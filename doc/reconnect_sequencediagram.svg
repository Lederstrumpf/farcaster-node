<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1088" height="854"><desc>title%20Peer%20Reconnect%20Procedure%0A%0Aparticipant%20t_wallet%0Aparticipant%20t_farcasterd%0Aparticipant%20t_peerd%0Aparticipant%20m_peerd%0Aparticipant%20m_farcasterd%0Aparticipant%20m_swapd%0A%0A%3D%3DPeer%20reconnect%20procedure%3D%3D%0Am_swapd%20-%3E%20m_farcasterd%20%3A%20Ctl%20PeerdUnreachable%0Am_farcasterd%20-%3E%20m_peerd%20%3ACtl%20Terminate%0Am_peerd%20-%3E%20m_farcasterd%3A%20Ctl%20PeerdTerminated%0At_peerd%20-%3E%20t_farcasterd%3A%20Ctl%20PeerdTerminated%0At_wallet%20%3C-%20t_farcasterd%20%3A%20Ctl%20GetKeys%5Cn(with%20ReconnectPeer%20deferred)%0At_wallet%20-%3E%20t_farcasterd%20%3A%20Ctl%20Keys%0At_farcasterd%20%3C-%20t_farcasterd%20%3A%20Ctl%20ReconnectPeer%20%5Cn(continues)%0At_farcasterd%20-%3E%20t_farcasterd%20%3A%20launch%5Cnpeerd%20connect%0A%3D%3DTaker%20peerd%20restarted%2C%20connects%20to%20maker%20(listener)%20forked%20peerd%3D%3D%0At_peerd%20-%3E%20m_peerd%20%3A%20NodeId%20(raw)%0Am_peerd%20-%3E%20m_farcasterd%3A%20Ctl%20Hello%0At_peerd%20-%3E%20t_farcasterd%3A%20Ctl%20Hello%0Am_farcasterd%20-%3E%20m_swapd%3A%20Ctl%20PeerdReconnected</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1088" height="854"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="399.96565778125523" y="22.6179738" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Peer Reconnect Procedure</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 52.41007501288379 88.511670804 L 52.41007501288379 854.507050164" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 316.30730621288376 88.511670804 L 316.30730621288376 854.507050164" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 504.7462091658134 88.511670804 L 504.7462091658134 854.507050164" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 640.0601044893485 88.511670804 L 640.0601044893485 854.507050164" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 828.4990074422782 88.511670804 L 828.4990074422782 854.507050164" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1030.2712386422781 88.511670804 L 1030.2712386422781 854.507050164" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 7.5393246000000005 47.799317964000004 L 97.28082542576757 47.799317964000004 L 97.28082542576757 88.511670804 L 7.5393246000000005 88.511670804 L 7.5393246000000005 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="23.899658982" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">t_wallet</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 256.1865538926513 47.799317964000004 L 376.42805853311614 47.799317964000004 L 376.42805853311614 88.511670804 L 256.1865538926513 88.511670804 L 256.1865538926513 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="272.54688827465134" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">t_farcasterd</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 460.6254587529296 47.799317964000004 L 548.8669595786972 47.799317964000004 L 548.8669595786972 88.511670804 L 460.6254587529296 88.511670804 L 460.6254587529296 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="476.9857931349296" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">t_peerd</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 591.6685201073485 47.799317964000004 L 688.4516888713486 47.799317964000004 L 688.4516888713486 88.511670804 L 591.6685201073485 88.511670804 L 591.6685201073485 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="608.0288544893485" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">m_peerd</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 764.1074230602782 47.799317964000004 L 892.8905918242782 47.799317964000004 L 892.8905918242782 88.511670804 L 764.1074230602782 88.511670804 L 764.1074230602782 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="780.4677574422782" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">m_farcasterd</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 979.4629863220457 47.799317964000004 L 1081.0794909625106 47.799317964000004 L 1081.0794909625106 88.511670804 L 979.4629863220457 88.511670804 L 979.4629863220457 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="995.8233207040457" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">m_swapd</text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 7.5393246000000005 130.98319938400002 L 1080.4606754 130.98319938400002 M 7.5393246000000005 136.00941578400003 L 1080.4606754 136.00941578400003 M 7.5393246000000005 141.03563218400004 L 1080.4606754 141.03563218400004" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 428.2128052435352 118.668969204 L 659.7871947564648 118.668969204 L 659.7871947564648 153.34986236400002 L 428.2128052435352 153.34986236400002 Z" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="449.32291412353516" y="139.77907808400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Peer reconnect procedure</text></g><g><g><rect fill="white" stroke="none" x="847.7587397858133" y="175.967836164" width="163.2527665129297" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="850.0205371658133" y="189.538620444" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Ctl PeerdUnreachable</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1030.2712386422781 195.57008012400001 L 840.9137619502782 195.57008012400001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(828.4990074422782,195.57008012400001) translate(-828.4990074422782,-195.57008012400001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 841.0645484422782 189.28730962400002 L 828.4990074422782 195.57008012400001 L 841.0645484422782 201.852850624 Z"/></g></g><g><g><rect fill="white" stroke="none" x="683.288590647581" y="218.188053924" width="101.98193063646484" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="685.550388027581" y="231.758838204" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Ctl Terminate</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 828.4990074422782 237.790297884 L 652.4748589973485 237.790297884" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(640.0601044893485,237.790297884) translate(-640.0601044893485,-237.790297884)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 652.6256454893486 231.507527384 L 640.0601044893485 237.790297884 L 652.6256454893486 244.073068384 Z"/></g></g><g><g><rect fill="white" stroke="none" x="657.9031727093486" y="260.408271684" width="152.7527665129297" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="660.1649700893486" y="273.97905596400005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Ctl PeerdTerminated</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 640.0601044893485 280.010515644 L 816.0842529342782 280.010515644" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(828.4990074422782,280.010515644) translate(-828.4990074422782,-280.010515644)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 815.9334664422781 273.727745144 L 828.4990074422782 280.010515644 L 815.9334664422781 286.29328614400004 Z"/></g></g><g><g><rect fill="white" stroke="none" x="334.1503744328837" y="302.628489444" width="152.7527665129297" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="336.41217181288374" y="316.199273724" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Ctl PeerdTerminated</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 504.7462091658134 322.23073340400003 L 328.72206072088375 322.23073340400003" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(316.30730621288376,322.23073340400003) translate(-316.30730621288376,-322.23073340400003)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 328.87284721288376 315.947962904 L 316.30730621288376 322.23073340400003 L 328.87284721288376 328.51350390400006 Z"/></g></g><g><g><rect fill="white" stroke="none" x="70.25314323288377" y="344.84870720400005" width="89.66943063646484" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="70.25314323288377" y="359.9273564040001" width="228.21109476" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="72.51494061288378" y="358.4194914840001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Ctl GetKeys</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="72.51494061288378" y="373.4981406840001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">(with ReconnectPeer deferred)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 316.30730621288376 379.52960036400003 L 64.82482952088378 379.52960036400003" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(52.41007501288379,379.52960036400003) translate(-52.41007501288379,-379.52960036400003)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 64.97561601288379 373.246829864 L 52.41007501288379 379.52960036400003 L 64.97561601288379 385.81237086400006 Z"/></g></g><g><g><rect fill="white" stroke="none" x="152.5968932328838" y="402.14757416400005" width="63.52359476" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="154.85869061288378" y="415.71835844400005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Ctl Keys</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 52.41007501288379 421.74981812400006 L 303.8925517048838 421.74981812400006" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(316.30730621288376,421.74981812400006) translate(-316.30730621288376,-421.74981812400006)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 303.74176521288376 415.46704762400003 L 316.30730621288376 421.74981812400006 L 303.74176521288376 428.0325886240001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="334.1503744328837" y="444.3677919240001" width="143.3777665129297" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="334.1503744328837" y="459.4464411240001" width="87.39859476" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="336.41217181288374" y="457.9385762040001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Ctl ReconnectPeer </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="336.41217181288374" y="473.0172254040001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">(continues)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 316.30730621288376 479.04868508400006 L 376.62190301288376 479.04868508400006 L 376.62190301288376 498.65092904400007 L 328.72206072088375 498.65092904400007" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(316.30730621288376,498.65092904400007) translate(-316.30730621288376,-498.65092904400007)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 328.87284721288376 492.36815854400004 L 316.30730621288376 498.65092904400007 L 328.87284721288376 504.9336995440001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="334.1503744328837" y="521.2689028440001" width="53.54442682176758" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="334.1503744328837" y="536.347552044" width="110.08609476" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="336.41217181288374" y="534.8396871240001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">launch</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="336.41217181288374" y="549.918336324" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">peerd connect</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 316.30730621288376 555.9497960040001 L 376.62190301288376 555.9497960040001 L 376.62190301288376 575.5520399640001 L 328.72206072088375 575.5520399640001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(316.30730621288376,575.5520399640001) translate(-316.30730621288376,-575.5520399640001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 328.87284721288376 569.2692694640001 L 316.30730621288376 575.5520399640001 L 328.87284721288376 581.834810464 Z"/></g></g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 7.5393246000000005 610.4842439440001 L 1080.4606754 610.4842439440001 M 7.5393246000000005 615.5104603440001 L 1080.4606754 615.5104603440001 M 7.5393246000000005 620.536676744 L 1080.4606754 620.536676744" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 286.5044693670703 598.1700137640001 L 801.4955306329297 598.1700137640001 L 801.4955306329297 632.8509069240001 L 286.5044693670703 632.8509069240001 Z" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="307.6145782470703" y="619.2801226440001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Taker peerd restarted, connects to maker (listener) forked peerd</text></g><g><g><rect fill="white" stroke="none" x="522.5892773858134" y="655.4688807240001" width="99.62775888353515" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="524.8510747658133" y="669.0396650040001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">NodeId (raw)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 504.7462091658134 675.0711246840001 L 627.6453499813485 675.0711246840001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(640.0601044893485,675.0711246840001) translate(-640.0601044893485,-675.0711246840001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 627.4945634893485 668.7883541840001 L 640.0601044893485 675.0711246840001 L 627.4945634893485 681.3538951840001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="701.0385925549297" y="697.689098484" width="66.48192682176757" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="703.3003899349296" y="711.259882764" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Ctl Hello</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 640.0601044893485 717.2913424440001 L 816.0842529342782 717.2913424440001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(828.4990074422782,717.2913424440001) translate(-828.4990074422782,-717.2913424440001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 815.9334664422781 711.0085719440001 L 828.4990074422782 717.2913424440001 L 815.9334664422781 723.574112944 Z"/></g></g><g><g><rect fill="white" stroke="none" x="377.2857942784648" y="739.909316244" width="66.48192682176757" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="379.5475916584648" y="753.480100524" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Ctl Hello</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 504.7462091658134 759.511560204 L 328.72206072088375 759.511560204" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(316.30730621288376,759.511560204) translate(-316.30730621288376,-759.511560204)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 328.87284721288376 753.2287897040001 L 316.30730621288376 759.511560204 L 328.87284721288376 765.794330704 Z"/></g></g><g><g><rect fill="white" stroke="none" x="846.3420756622781" y="782.129534004" width="166.08609476" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="848.6038730422781" y="795.700318284" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Ctl PeerdReconnected</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 828.4990074422782 801.731777964 L 1017.8564841342782 801.731777964" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(1030.2712386422781,801.731777964) translate(-1030.2712386422781,-801.731777964)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1017.7056976422781 795.449007464 L 1030.2712386422781 801.731777964 L 1017.7056976422781 808.014548464 Z"/></g></g></g><g/><g/><g/><g/><g/><g/></g></svg>